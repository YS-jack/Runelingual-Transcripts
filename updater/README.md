# RuneLingual Transcript Updater

Welcome to the updater directory of the RuneLingual Transcript Sources. This directory contains scripts and utilities to update and maintain the transcripts used by the RuneLingual plugin.

## Overview of Updater Programs

The `Updater` directory contains five distinct programs, each designed to perform specific tasks for maintaining and updating transcripts. Below is a detailed description of each program's functionality:

1. [`main_generate_English_transcript.py`](update_english_transcript/main_generate_English_transcript.py): This program is responsible for updating the English transcript from the source. Read the [explanation](update_english_transcript/readme.md) for more detail.

2. [`update_nonEn_transcripts.py`](./update_nonEn_transcripts.py): This program reads data from the [English transcript database](transcript.db), and updates all other language's translation file (either excel or xliff) transcript to include records that are not included in those files. If a translation file doesn't exist, it will create a copy of the English transcript, and add a column for translation. The output files will be found in [draft folder](../draft/). These files should be downloaded and translated.

3. [`update_char_images.py`](./update_char_images.py): This program creates character images for insertion like emojis in the RuneLite client. This is used for languages whose alphabets is not supported by OSRS client such as Japanese, and not necessary for many European langauges.

4. [`generate_tsv.py`](./generate_tsv.py): This program processes the  translated transcripts (generated by [update_nonEn_transcripts.py](./update_nonEn_transcripts.py) then translated by a translator), and convert them into TSV (Tab-Separated Values) format. These TSV files will also be found in [draft folder](../draft/), and should be reviewed and then moved to the [public](../public/) directory for use by the plugin.


For a deeper understanding of why these scripts are essential, please refer to the [README](./RuneLingual/transcript/README.md) in the top directory.

## Create a Transcript for New Language

You can ask someone in the [Discord](#lets-chat) below to do it for you, but if you want to do it yourself:
1. Add the language's code to necessary files, such as [LANG and LANG_CODE_STANDARD in common_func.py](./common_func.py)
2. Clone this repository, and install python to your system. (ask Chat-GPT for mor info, it's very informative!)
3. Run programs 1 and 2 above in [`Overview of Updater Programs`](#overview-of-updater-programs) section.
4. For non-Latin languages, run program 3 above in [`Overview of Updater Programs`](#overview-of-updater-programs) section. But it is likely that program 3 only supports few languages. Contact a developer from the [Discord](#lets-chat) link below for help.

For languages such as Japanese, Russian, Program 3 [update_char_images.py](./update_char_images.py) must be configured and ran. If you're unsure, ask one of our developers and we'll be able to test it for you.

Program 3 [update_char_images.py](./update_char_images.py) is unnecessary if the language uses the English alphabet, including characters with accents (like those in Spanish, Portuguese, Norwegian). 

## How to Update Foriegn Transcripts After an OSRS Update
1. Clone this repository, and install python to your system. (ask Chat-GPT for mor info, it's very informative!)
2. Run program [1](update_english_transcript/main_generate_English_transcript.py) and [2](./update_nonEn_transcripts.py).

If the English transcript is already up to date, program 1 does not need to be ran.

## What to Do after Obtaining a Transcript
After cloning this repository and executing some codes, there should be a transcript inside the [draft folder](../draft/).

The transcript file will be in either Excel or ".xliff" format. 

For Excel, You can simply start adding translations in the translation column.

The .xliff file is supported by many CAT softwares, including the free OmegaT.

After you've made progress with translation and want to update the plugin, you can either send the file to one of the developers in our [Discord server](https://discord.gg/ehwKcVdBGS), or make sure the language's folder in [draft folder](../draft/) and make a pull request to the GitHub repository.

## Developers: after receiving translated transcript
1. Clone the whole repository to your local machine
2. Run ['generate_tsv.py'](./generate_tsv.py). It will turn the Excel or .xliff transcript to TSV, and also automatically update the hash file value.
3. Check inside the target language in [draft folder](../draft/) that there is a TSV version of the newly obtained translation.
4. Copy the TSV version to the language's folder in [public folder](../public/). If it already exists, replace it.
5. Check that no files have been deleted in other languages' folder.
6. After you are sure correct files are in each folder of [public folder](../public/), make a pull request, and have someone accept it.


## Contributing

We welcome contributions to improve our updater scripts. If you'd like to contribute, please refer to the main [README.md](../README.md) file for more information.

## Let's Chat!

Need a hand or have a question? Join us on our [Discord server](https://discord.gg/ehwKcVdBGS). We're here to help and love hearing from you!

## License

This project is licensed under the [MIT License](../LICENSE).
